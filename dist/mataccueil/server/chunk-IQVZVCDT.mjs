import './polyfills.server.mjs';
import{d as Xe,e as Ke}from"./chunk-KWEHKFN5.mjs";import{f as nt,i as Ye}from"./chunk-E44LSF4W.mjs";var ot=nt((De,Ve)=>{(function(A,I){typeof De=="object"&&typeof Ve=="object"?Ve.exports=I((Ke(),Ye(Xe))):typeof define=="function"&&define.amd?define(["quill"],I):typeof De=="object"?De.quillBetterTable=I((Ke(),Ye(Xe))):A.quillBetterTable=I(A.Quill)})(window,function(ke){return function(A){function I(a){delete installedChunks[a]}var q=window.webpackHotUpdatequillBetterTable;window.webpackHotUpdatequillBetterTable=function(d,c){fe(d,c),q&&q(d,c)};function _e(a){var d=document.createElement("script");d.charset="utf-8",d.src=N.p+""+a+"."+S+".hot-update.js",document.head.appendChild(d)}function g(a){return a=a||1e4,new Promise(function(d,c){if(typeof XMLHttpRequest>"u")return c(new Error("No browser support"));try{var x=new XMLHttpRequest,y=N.p+""+S+".hot-update.json";x.open("GET",y,!0),x.timeout=a,x.send(null)}catch(u){return c(u)}x.onreadystatechange=function(){if(x.readyState===4)if(x.status===0)c(new Error("Manifest request to "+y+" timed out."));else if(x.status===404)d();else if(x.status!==200&&x.status!==304)c(new Error("Manifest request to "+y+" failed."));else{try{var u=JSON.parse(x.responseText)}catch(_){c(_);return}d(u)}}})}var U=!0,S="ced44c7892a78034ffe4",ae=1e4,Ce={},ye,Z=[],Ee=[];function je(a){var d=M[a];if(!d)return N;var c=function(u){return d.hot.active?(M[u]?M[u].parents.indexOf(a)===-1&&M[u].parents.push(a):(Z=[a],ye=u),d.children.indexOf(u)===-1&&d.children.push(u)):(console.warn("[HMR] unexpected require("+u+") from disposed module "+a),Z=[]),N(u)},x=function(_){return{configurable:!0,enumerable:!0,get:function(){return N[_]},set:function(F){N[_]=F}}};for(var y in N)Object.prototype.hasOwnProperty.call(N,y)&&y!=="e"&&y!=="t"&&Object.defineProperty(c,y,x(y));return c.e=function(u){return ee==="ready"&&V("prepare"),he++,N.e(u).then(_,function(F){throw _(),F});function _(){he--,ee==="prepare"&&(ve[u]||T(u),he===0&&de===0&&P())}},c.t=function(u,_){return _&1&&(u=c(u)),N.t(u,_&-2)},c}function Le(a){var d={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:ye!==a,active:!0,accept:function(c,x){if(c===void 0)d._selfAccepted=!0;else if(typeof c=="function")d._selfAccepted=c;else if(typeof c=="object")for(var y=0;y<c.length;y++)d._acceptedDependencies[c[y]]=x||function(){};else d._acceptedDependencies[c]=x||function(){}},decline:function(c){if(c===void 0)d._selfDeclined=!0;else if(typeof c=="object")for(var x=0;x<c.length;x++)d._declinedDependencies[c[x]]=!0;else d._declinedDependencies[c]=!0},dispose:function(c){d._disposeHandlers.push(c)},addDisposeHandler:function(c){d._disposeHandlers.push(c)},removeDisposeHandler:function(c){var x=d._disposeHandlers.indexOf(c);x>=0&&d._disposeHandlers.splice(x,1)},check:K,apply:z,status:function(c){if(!c)return ee;ne.push(c)},addStatusHandler:function(c){ne.push(c)},removeStatusHandler:function(c){var x=ne.indexOf(c);x>=0&&ne.splice(x,1)},data:Ce[a]};return ye=void 0,d}var ne=[],ee="idle";function V(a){ee=a;for(var d=0;d<ne.length;d++)ne[d].call(null,a)}var de=0,he=0,ve={},ue={},oe={},$,k,Ne;function le(a){var d=+a+""===a;return d?+a:a}function K(a){if(ee!=="idle")throw new Error("check() is only allowed in idle status");return U=a,V("check"),g(ae).then(function(d){if(!d)return V("idle"),null;ue={},ve={},oe=d.c,Ne=d.h,V("prepare");var c=new Promise(function(y,u){$={resolve:y,reject:u}});k={};var x=2;return T(x),ee==="prepare"&&he===0&&de===0&&P(),c})}function fe(a,d){if(!(!oe[a]||!ue[a])){ue[a]=!1;for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(k[c]=d[c]);--de===0&&he===0&&P()}}function T(a){oe[a]?(ue[a]=!0,de++,_e(a)):ve[a]=!0}function P(){V("ready");var a=$;if($=null,!!a)if(U)Promise.resolve().then(function(){return z(U)}).then(function(x){a.resolve(x)},function(x){a.reject(x)});else{var d=[];for(var c in k)Object.prototype.hasOwnProperty.call(k,c)&&d.push(le(c));a.resolve(d)}}function z(a){if(ee!=="ready")throw new Error("apply() is only allowed in ready status");a=a||{};var d,c,x,y,u;function _(R){for(var Y=[R],D={},se=Y.map(function(ze){return{chain:[ze],id:ze}});se.length>0;){var Ie=se.pop(),J=Ie.id,we=Ie.chain;if(y=M[J],!(!y||y.hot._selfAccepted)){if(y.hot._selfDeclined)return{type:"self-declined",chain:we,moduleId:J};if(y.hot._main)return{type:"unaccepted",chain:we,moduleId:J};for(var xe=0;xe<y.parents.length;xe++){var j=y.parents[xe],X=M[j];if(X){if(X.hot._declinedDependencies[J])return{type:"declined",chain:we.concat([j]),moduleId:J,parentId:j};if(Y.indexOf(j)===-1){if(X.hot._acceptedDependencies[J]){D[j]||(D[j]=[]),F(D[j],[J]);continue}delete D[j],Y.push(j),se.push({chain:we.concat([j]),id:j})}}}}}return{type:"accepted",moduleId:R,outdatedModules:Y,outdatedDependencies:D}}function F(R,Y){for(var D=0;D<Y.length;D++){var se=Y[D];R.indexOf(se)===-1&&R.push(se)}}var O={},re=[],G={},qe=function(){console.warn("[HMR] unexpected require("+B.moduleId+") to disposed module")};for(var pe in k)if(Object.prototype.hasOwnProperty.call(k,pe)){u=le(pe);var B;k[pe]?B=_(u):B={type:"disposed",moduleId:pe};var ce=!1,Me=!1,Oe=!1,be="";switch(B.chain&&(be=`
Update propagation: `+B.chain.join(" -> ")),B.type){case"self-declined":a.onDeclined&&a.onDeclined(B),a.ignoreDeclined||(ce=new Error("Aborted because of self decline: "+B.moduleId+be));break;case"declined":a.onDeclined&&a.onDeclined(B),a.ignoreDeclined||(ce=new Error("Aborted because of declined dependency: "+B.moduleId+" in "+B.parentId+be));break;case"unaccepted":a.onUnaccepted&&a.onUnaccepted(B),a.ignoreUnaccepted||(ce=new Error("Aborted because "+u+" is not accepted"+be));break;case"accepted":a.onAccepted&&a.onAccepted(B),Me=!0;break;case"disposed":a.onDisposed&&a.onDisposed(B),Oe=!0;break;default:throw new Error("Unexception type "+B.type)}if(ce)return V("abort"),Promise.reject(ce);if(Me){G[u]=k[u],F(re,B.outdatedModules);for(u in B.outdatedDependencies)Object.prototype.hasOwnProperty.call(B.outdatedDependencies,u)&&(O[u]||(O[u]=[]),F(O[u],B.outdatedDependencies[u]))}Oe&&(F(re,[B.moduleId]),G[u]=qe)}var Te=[];for(c=0;c<re.length;c++)u=re[c],M[u]&&M[u].hot._selfAccepted&&G[u]!==qe&&Te.push({module:u,errorHandler:M[u].hot._selfAccepted});V("dispose"),Object.keys(oe).forEach(function(R){oe[R]===!1&&I(R)});for(var ie,He=re.slice();He.length>0;)if(u=He.pop(),y=M[u],!!y){var Be={},Re=y.hot._disposeHandlers;for(x=0;x<Re.length;x++)d=Re[x],d(Be);for(Ce[u]=Be,y.hot.active=!1,delete M[u],delete O[u],x=0;x<y.children.length;x++){var Ae=M[y.children[x]];Ae&&(ie=Ae.parents.indexOf(u),ie>=0&&Ae.parents.splice(ie,1))}}var ge,Q;for(u in O)if(Object.prototype.hasOwnProperty.call(O,u)&&(y=M[u],y))for(Q=O[u],x=0;x<Q.length;x++)ge=Q[x],ie=y.children.indexOf(ge),ie>=0&&y.children.splice(ie,1);V("apply"),S=Ne;for(u in G)Object.prototype.hasOwnProperty.call(G,u)&&(A[u]=G[u]);var W=null;for(u in O)if(Object.prototype.hasOwnProperty.call(O,u)&&(y=M[u],y)){Q=O[u];var me=[];for(c=0;c<Q.length;c++)if(ge=Q[c],d=y.hot._acceptedDependencies[ge],d){if(me.indexOf(d)!==-1)continue;me.push(d)}for(c=0;c<me.length;c++){d=me[c];try{d(Q)}catch(R){a.onErrored&&a.onErrored({type:"accept-errored",moduleId:u,dependencyId:Q[c],error:R}),a.ignoreErrored||W||(W=R)}}}for(c=0;c<Te.length;c++){var Se=Te[c];u=Se.module,Z=[u];try{N(u)}catch(R){if(typeof Se.errorHandler=="function")try{Se.errorHandler(R)}catch(Y){a.onErrored&&a.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:Y,originalError:R}),a.ignoreErrored||W||(W=Y),W||(W=R)}else a.onErrored&&a.onErrored({type:"self-accept-errored",moduleId:u,error:R}),a.ignoreErrored||W||(W=R)}}return W?(V("fail"),Promise.reject(W)):(V("idle"),new Promise(function(R){R(re)}))}var M={};function N(a){if(M[a])return M[a].exports;var d=M[a]={i:a,l:!1,exports:{},hot:Le(a),parents:(Ee=Z,Z=[],Ee),children:[]};return A[a].call(d.exports,d,d.exports,je(a)),d.l=!0,d.exports}return N.m=A,N.c=M,N.d=function(a,d,c){N.o(a,d)||Object.defineProperty(a,d,{enumerable:!0,get:c})},N.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},N.t=function(a,d){if(d&1&&(a=N(a)),d&8||d&4&&typeof a=="object"&&a&&a.__esModule)return a;var c=Object.create(null);if(N.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),d&2&&typeof a!="string")for(var x in a)N.d(c,x,function(y){return a[y]}.bind(null,x));return c},N.n=function(a){var d=a&&a.__esModule?function(){return a.default}:function(){return a};return N.d(d,"a",d),d},N.o=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)},N.p="",N.h=function(){return S},je(12)(N.s=12)}([function(A,I){A.exports=ke},function(A,I){A.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M73.142857 336.64h526.628572v43.885714H73.142857zM73.142857 643.657143h526.628572v43.885714H73.142857zM336.457143 117.028571h43.885714v789.942858h-43.885714zM204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.771429 87.771429 0 0 0 87.771429 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM819.2 73.142857h-219.428571v877.714286h219.428571a131.657143 131.657143 0 0 0 131.657143-131.657143V204.8A131.84 131.84 0 0 0 819.2 73.142857z m44.068571 460.982857h-65.828571v65.828572H753.371429v-65.828572h-65.828572V490.057143h65.828572v-65.828572h44.068571v65.828572h65.828571z"/></svg>'},function(A,I){A.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M380.342857 336.457143h526.811429v43.885714H380.342857z m0 307.2h526.811429v43.885714H380.342857zM643.657143 117.028571h43.885714v789.942858h-43.885714zM204.8 73.142857h614.582857A131.474286 131.474286 0 0 1 950.857143 204.8v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.657143 131.657143 0 0 1 204.8 73.142857z m0 43.885714a87.588571 87.588571 0 0 0-87.588571 87.771429v614.4a87.588571 87.588571 0 0 0 87.588571 87.771429h614.582857a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM204.8 73.142857A131.657143 131.657143 0 0 0 73.142857 204.8v614.4a131.657143 131.657143 0 0 0 131.657143 131.657143h219.428571V73.142857z m131.84 460.8h-65.828571v65.828572h-43.885715v-65.828572h-65.828571v-43.885714h65.828571v-65.828572h43.885715v65.828572h65.828571z"/></svg>'},function(A,I){A.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M73.142857 599.771429h877.714286v43.885714H73.142857zM336.457143 380.342857h43.885714v526.628572h-43.885714z m307.2 0h43.885714v526.628572h-43.885714zM204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.657143 131.657143 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.588571 87.588571 0 0 0 87.771429 87.771429h614.4a87.588571 87.588571 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM819.2 73.142857H204.8A131.657143 131.657143 0 0 0 73.142857 204.8v219.428571h877.714286v-219.428571A131.657143 131.657143 0 0 0 819.2 73.142857z m-219.428571 197.485714h-65.828572v65.828572h-43.885714v-65.828572h-65.828572v-43.885714h65.828572V160.914286h43.885714v65.828571h65.828572z"/></svg>'},function(A,I){A.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.771429 87.771429 0 0 0 87.771429 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM73.142857 336.457143h877.714286v44.068571H73.142857zM336.64 117.028571h43.885714v526.628572h-43.885714z m307.017143 0h44.068571v526.628572H643.657143zM73.142857 599.771429v219.428571a131.657143 131.657143 0 0 0 131.657143 131.657143h614.4a131.657143 131.657143 0 0 0 131.657143-131.657143v-219.428571z m526.628572 197.485714h-65.645715v65.828571H490.057143v-65.828571h-65.828572v-43.885714h65.828572v-65.828572h44.068571v65.828572h65.645715z"/></svg>'},function(A,I){A.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.99596 99.038384c-25.470707-25.6-60.121212-39.822222-96.323233-39.822222H194.19798c-36.072727 0-70.723232 14.351515-96.323233 39.822222-25.6 25.6-39.822222 60.121212-39.822222 96.323232v635.474748c0 36.072727 14.351515 70.723232 39.822222 96.323232C123.474747 952.759596 158.125253 967.111111 194.19798 967.111111h635.474747c36.072727 0 70.723232-14.351515 96.323233-39.951515 25.6-25.6 39.951515-60.121212 39.951515-96.323232V195.361616c0-36.072727-14.351515-70.723232-39.951515-96.323232z m-277.850505 5.559596v226.909091H375.725253V104.59798h272.420202zM103.434343 195.361616c0-24.048485 9.567677-47.191919 26.634344-64.129293 17.066667-17.066667 40.080808-26.634343 64.129293-26.634343h136.145454v226.909091H103.434343V195.361616z m90.763637 726.367677c-24.048485 0-47.191919-9.567677-64.129293-26.634344-17.066667-17.066667-26.634343-40.080808-26.634344-64.129292V649.309091h226.909091v272.420202H194.19798z m181.527273 0V649.309091h272.290909v272.420202H375.725253z m544.711111-90.892929c0 24.048485-9.567677 47.191919-26.634344 64.129293-17.066667 17.066667-40.080808 26.634343-64.129293 26.634343H693.527273V649.309091h226.909091v181.527273zM693.527273 331.507071V104.59798h136.145454c24.048485 0 47.191919 9.567677 64.129293 26.634343 17.066667 17.066667 26.634343 40.080808 26.634344 64.129293v136.145455H693.527273z"/></svg>'},function(A,I){A.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M336.457143 73.142857h43.885714v877.714286h-43.885714z m307.382857 0h43.702857v877.714286h-43.702857z m-438.857143 0h614.4A131.657143 131.657143 0 0 1 950.857143 204.8v614.4a131.474286 131.474286 0 0 1-131.474286 131.657143h-614.4A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.982857 73.142857z m0 43.885714a87.588571 87.588571 0 0 0-87.771428 87.771429v614.4a87.588571 87.588571 0 0 0 87.771428 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM73.142857 336.457143h877.714286v307.2H73.142857z m292.571429 43.885714v219.428572h292.571428v-219.428572z"/></svg>'},function(A,I){A.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.996 99.038c-25.47-25.6-60.121-39.822-96.323-39.822H194.198c-75.12 0.13-136.016 61.026-136.145 136.146v635.345c0 36.073 14.351 70.723 39.822 96.323 25.6 25.73 60.25 40.081 96.323 40.081h635.475c36.072 0 70.723-14.351 96.323-39.951 25.6-25.6 39.951-60.122 39.951-96.324V195.362c0-36.073-14.351-70.724-39.951-96.324z m-365.77 494.287L512 545.228l-48.226 48.097-32.194-31.935 48.355-48.226-48.226-48.097 32.194-32.194L512 480.97l48.097-48.097 32.194 32.194-48.097 48.097 48.226 48.226-32.194 31.935zM103.434 195.362c0-24.049 9.568-47.192 26.635-64.13 17.066-17.066 40.08-26.634 64.129-26.634h136.145v226.91H103.434V195.361z m0 181.656h226.91V649.31h-226.91V377.02z m90.764 544.84c-24.049 0-47.192-9.567-64.13-26.634-17.066-17.066-26.634-40.08-26.634-64.258V694.69h226.91v227.168H194.197z m726.238-90.763c0 24.048-9.438 47.192-26.505 64.259-17.066 17.066-40.21 26.634-64.258 26.505H693.527V694.69h226.91v136.404z m0-181.786H693.527V377.02h226.91v272.29zM693.527 331.507V104.598h136.146c24.048 0 47.192 9.438 64.258 26.505 17.067 17.067 26.635 40.21 26.505 64.259v136.145H693.527z"/></svg>'},function(A,I){A.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.99596 99.038384c-25.470707-25.6-60.121212-39.822222-96.323233-39.822222H194.19798c-36.072727 0-70.723232 14.351515-96.323233 39.822222-25.6 25.6-39.822222 60.121212-39.822222 96.323232v635.474748c0 36.072727 14.351515 70.723232 39.822222 96.323232C123.474747 952.759596 158.125253 967.111111 194.19798 967.111111h635.474747c36.072727 0 70.723232-14.351515 96.323233-39.951515 25.6-25.6 39.951515-60.121212 39.951515-96.323232V195.361616c0-36.072727-14.351515-70.723232-39.951515-96.323232z m-550.270707 5.559596h272.290909v227.167677H375.725253V104.59798z m56.242424 360.468687l31.935353-32.19394 48.09697 48.226263 48.09697-48.226263 32.193939 32.19394-48.09697 48.096969 48.226263 48.226263-32.193939 31.935354-48.226263-48.09697-48.226263 48.09697-31.935353-31.935354 48.226262-48.226263-48.096969-48.096969zM103.434343 195.361616c0-24.048485 9.567677-47.191919 26.634344-64.129293 17.066667-17.066667 40.080808-26.634343 64.129293-26.634343h136.145454v227.167677H103.434343V195.361616z m817.002021 635.733333c0 24.048485-9.567677 47.191919-26.634344 64.258586-17.066667 17.066667-40.080808 26.634343-64.129293 26.634344H194.19798c-24.048485 0-47.191919-9.567677-64.258586-26.634344C112.872727 878.157576 103.434343 855.014141 103.434343 830.836364V694.690909h226.909091v226.909091h45.381819V694.690909h272.290909v226.909091h45.381818V694.690909h226.909091v136.40404z m0-499.329292H693.527273V104.59798h136.145454c24.048485 0 47.191919 9.567677 64.129293 26.634343 17.066667 17.066667 26.634343 40.080808 26.634344 64.129293v136.404041z"/></svg>'},function(A,I){A.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M764.42168889 830.5152c0 30.23530667-24.61013333 54.84430222-54.84316444 54.84430222H314.42147555c-30.23416889 0-54.84316445-24.61013333-54.84316444-54.84430222V248.32796445h504.84337778v582.18723555zM369.26577778 149.89084445c0-6.32832 4.92202667-11.25034667 11.25034667-11.25034667H644.18702222c6.32832 0 11.25034667 4.92202667 11.25034667 11.25034667v33.04675555H369.26577778V149.89084445z m559.68768 33.04675555H720.82773333V149.89084445c0-42.1888-34.45191111-76.64071111-76.64071111-76.64071112H380.51612445c-42.1888 0-76.64071111 34.45191111-76.64071112 76.64071112v33.04675555h-208.82773333c-18.28181333 0-33.04789333 14.76608-33.04789333 33.04675555s14.76608 33.04675555 33.04675555 33.04675556h98.43825778v581.48408889c0 66.79779555 54.14001778 120.93781333 120.93667555 120.93781333h395.1570489c66.79665778 0 120.93667555-54.14001778 120.93667555-120.93781333V248.32796445h98.43825778c18.28067555 0 33.04675555-14.76494222 33.04675555-33.04675556s-14.76608-32.34360889-33.04675555-32.34360889zM512 786.21923555c18.28181333 0 33.04675555-14.76608 33.04675555-33.04789333v-351.56195555c0-18.28181333-14.76494222-33.04675555-33.04675555-33.04675556s-33.04675555 14.76494222-33.04675555 33.04675556v351.56195555c0 18.28181333 14.76494222 33.04789333 33.04675555 33.04789333m-153.98456889 0c18.28181333 0 33.04675555-14.76608 33.04675556-33.04789333v-351.56195555c0-18.28181333-14.76494222-33.04675555-33.04675556-33.04675556s-33.04675555 14.76494222-33.04675556 33.04675556v351.56195555c0.70314667 18.28181333 15.46922667 33.04789333 33.04675556 33.04789333m307.96913778 0c18.28067555 0 33.04675555-14.76608 33.04675556-33.04789333v-351.56195555c0-18.28181333-14.76608-33.04675555-33.04675556-33.04675556s-33.04675555 14.76494222-33.04675556 33.04675556v351.56195555c0 18.28181333 14.76494222 33.04789333 33.04675556 33.04789333"/></svg>'},function(A,I,q){"use strict";q.r(I);var _e=q(0),g=q.n(_e);function U(l,o){if(typeof o=="object")for(let e in o)l.style[e]=o[e]}function S(l,o){let e=o.getBoundingClientRect();return{x:l.x-e.x-o.scrollLeft,y:l.y-e.y-o.scrollTop,x1:l.x-e.x-o.scrollLeft+l.width,y1:l.y-e.y-o.scrollTop+l.height,width:l.width,height:l.height}}function ae(l,o){return l&&Object.keys(l).reduce((e,t)=>o.includes(t)?e:Object.assign({},e,{[t]:l[t]}),{})}function Ce(l){let o;if(o=l.path||l.composedPath&&l.composedPath(),o==null&&l.target){o=[];let e=l.target;for(o.push(e);e&&e.parentNode;)e=e.parentNode,o.push(e)}return o}function ye(l){var o=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(/^(rgb|RGB)/.test(l)){for(var e=l.toString().match(/\d+/g),t="#",n=0;n<3;n++)t+=("0"+Number(e[n]).toString(16)).slice(-2);return t}else if(o.test(l)){var r=l.replace(/#/,"").split("");if(r.length===6)return l;if(r.length===3){for(var i="#",n=0;n<r.length;n+=1)i+=r[n]+r[n];return i}}return l}let Z=12,Ee=12,je=12,Le=50,ne="#35A7ED";class ee{constructor(o,e,t){if(!o)return null;this.table=o,this.quill=e,this.options=t,this.domNode=null,this.initColTool()}initColTool(){let o=this.quill.root.parentNode,e=this.table.getBoundingClientRect(),t=o.getBoundingClientRect(),n=this.table.parentNode.getBoundingClientRect();this.domNode=document.createElement("div"),this.domNode.classList.add("qlbt-col-tool"),this.updateToolCells(),o.appendChild(this.domNode),U(this.domNode,{width:"".concat(n.width,"px"),height:"".concat(Z,"px"),left:"".concat(n.left-t.left+o.scrollLeft,"px"),top:"".concat(n.top-t.top+o.scrollTop-Z-5,"px")})}createToolCell(){let o=document.createElement("div");o.classList.add("qlbt-col-tool-cell");let e=document.createElement("div");return e.classList.add("qlbt-col-tool-cell-holder"),U(o,{height:"".concat(Ee,"px")}),o.appendChild(e),o}updateToolCells(){let o=g.a.find(this.table),e=o.children.tail.children.head.children,t=o.colGroup().children,n=V(e),r=Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell"));for(let i=0;i<Math.max(n,r.length);i++){let s=t.at(i),f=s&&parseInt(s.formats()[s.statics.blotName].width,10),h=null;r[i]?r[i]&&i>=n?r[i].remove():(h=r[i],U(h,{"min-width":"".concat(f,"px")})):(h=this.createToolCell(),this.domNode.appendChild(h),this.addColCellHolderHandler(h),U(h,{"min-width":"".concat(f,"px")}))}}destroy(){return this.domNode.remove(),null}addColCellHolderHandler(o){let e=g.a.find(this.table),t=o.querySelector(".qlbt-col-tool-cell-holder"),n=!1,r=0,i=0,s=0,f=0,h={},p={},b=null,m=C=>{C.preventDefault(),n&&(i=C.clientX,f+i-r>=Le?s=i-r:s=Le-f,U(b,{left:"".concat(p.left+p.width-1+s,"px")}))},w=C=>{C.preventDefault();let L=Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell")).indexOf(o),H=e.colGroup().children.at(L);n&&(H.format("width",f+s),U(o,{"min-width":"".concat(f+s,"px")}),r=0,i=0,s=0,f=0,n=!1,t.classList.remove("dragging")),document.removeEventListener("mousemove",m,!1),document.removeEventListener("mouseup",w,!1),h={},p={},b.remove(),b=null,e.updateTableWidth();let te=this.quill.getModule("better-table").tableSelection;te&&te.clearSelection()},v=C=>{document.addEventListener("mousemove",m,!1),document.addEventListener("mouseup",w,!1),h=this.table.getBoundingClientRect(),p=o.getBoundingClientRect(),b=document.createElement("div"),U(b,{position:"fixed",top:"".concat(p.top,"px"),left:"".concat(p.left+p.width-1,"px"),zIndex:"100",height:"".concat(h.height+Z+4,"px"),width:"1px",backgroundColor:ne}),document.body.appendChild(b),n=!0,r=C.clientX,f=p.width,t.classList.add("dragging")};t.addEventListener("mousedown",v,!1)}colToolCells(){return Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell"))}}function V(l){return l.reduce((o,e)=>{let t=e.formats().colspan;return o=o+parseInt(t,10),o},0)}let de=g.a.import("blots/block");var ve=(()=>{class l extends de{static create(e){typeof e=="string"&&(e={value:e});let t=super.create(e.value);return le.forEach(n=>{e[n]&&t.setAttribute("data-".concat(n),e[n])}),K.forEach(n=>{e[n]&&t.setAttribute("data-".concat(n),e[n])}),t}static formats(e){let t={};return t.value=this.tagName.indexOf(e.tagName)+1,K.concat(le).reduce((n,r)=>(e.hasAttribute("data-".concat(r))&&(n[r]=e.getAttribute("data-".concat(r))||void 0),n),t)}format(e,t){let{row:n,cell:r,rowspan:i,colspan:s}=l.formats(this.domNode);e===l.blotName?t?super.format(e,{value:t,row:n,cell:r,rowspan:i,colspan:s}):n?this.replaceWith(P.blotName,{row:n,cell:r,rowspan:i,colspan:s}):super.format(e,t):super.format(e,t)}optimize(e){let{row:t,rowspan:n,colspan:r}=l.formats(this.domNode);if(t&&!(this.parent instanceof z)&&this.wrap(z.blotName,{row:t,colspan:r,rowspan:n}),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){let i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i)}else this.remove();this.cache={}}}return l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],l})();let ue=g.a.import("blots/break"),oe=g.a.import("blots/block"),$=g.a.import("blots/container"),k=["width"],Ne={width:100},le=["row","cell"],K=["rowspan","colspan"],fe={rowspan:1,colspan:1},T=5,P=(()=>{class l extends oe{static create(e){let t=super.create(e);return le.forEach(n=>{let r=n==="row"?y:u;t.setAttribute("data-".concat(n),e[n]||r())}),K.forEach(n=>{t.setAttribute("data-".concat(n),e[n]||fe[n])}),e["cell-bg"]&&t.setAttribute("data-cell-bg",e["cell-bg"]),t}static formats(e){let t={};return K.concat(le).concat(["cell-bg"]).reduce((n,r)=>(e.hasAttribute("data-".concat(r))&&(n[r]=e.getAttribute("data-".concat(r))||void 0),n),t)}format(e,t){if(K.concat(le).indexOf(e)>-1)t?this.domNode.setAttribute("data-".concat(e),t):this.domNode.removeAttribute("data-".concat(e));else if(e==="cell-bg")t?this.domNode.setAttribute("data-cell-bg",t):this.domNode.removeAttribute("data-cell-bg");else if(e==="header"){if(!t)return;let{row:n,cell:r,rowspan:i,colspan:s}=l.formats(this.domNode);super.format(e,{value:t,row:n,cell:r,rowspan:i,colspan:s})}else super.format(e,t)}optimize(e){let t=this.domNode.getAttribute("data-row"),n=this.domNode.getAttribute("data-rowspan"),r=this.domNode.getAttribute("data-colspan"),i=this.domNode.getAttribute("data-cell-bg");this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName,{row:t,colspan:r,rowspan:n,"cell-bg":i}),super.optimize(e)}tableCell(){return this.parent}}return l.blotName="table-cell-line",l.className="qlbt-cell-line",l.tagName="P",l})(),z=(()=>{class l extends ${checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){let e=this.children.head.formats()[this.children.head.statics.blotName],t=this.children.tail.formats()[this.children.tail.statics.blotName],n=this.next.children.head.formats()[this.next.children.head.statics.blotName],r=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return e.cell===t.cell&&e.cell===n.cell&&e.cell===r.cell}return!1}static create(e){let t=super.create(e);return t.setAttribute("data-row",e.row),K.forEach(n=>{e[n]&&t.setAttribute(n,e[n])}),e["cell-bg"]&&(t.setAttribute("data-cell-bg",e["cell-bg"]),t.style.backgroundColor=e["cell-bg"]),t}static formats(e){let t={};return e.hasAttribute("data-row")&&(t.row=e.getAttribute("data-row")),e.hasAttribute("data-cell-bg")&&(t["cell-bg"]=e.getAttribute("data-cell-bg")),K.reduce((n,r)=>(e.hasAttribute(r)&&(n[r]=e.getAttribute(r)),n),t)}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}formats(){let e={};return this.domNode.hasAttribute("data-row")&&(e.row=this.domNode.getAttribute("data-row")),this.domNode.hasAttribute("data-cell-bg")&&(e["cell-bg"]=this.domNode.getAttribute("data-cell-bg")),K.reduce((t,n)=>(this.domNode.hasAttribute(n)&&(t[n]=this.domNode.getAttribute(n)),t),e)}toggleAttribute(e,t){t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e)}formatChildren(e,t){this.children.forEach(n=>{n.format(e,t)})}format(e,t){K.indexOf(e)>-1?(this.toggleAttribute(e,t),this.formatChildren(e,t)):["row"].indexOf(e)>-1?(this.toggleAttribute("data-".concat(e),t),this.formatChildren(e,t)):e==="cell-bg"?(this.toggleAttribute("data-cell-bg",t),this.formatChildren(e,t),t?this.domNode.style.backgroundColor=t:this.domNode.style.backgroundColor="initial"):super.format(e,t)}optimize(e){let t=this.domNode.getAttribute("data-row");this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName,{row:t}),super.optimize(e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}return l.blotName="table",l.tagName="TD",l})(),M=(()=>{class l extends ${checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){let e=this.children.head.formats(),t=this.children.tail.formats(),n=this.next.children.head.formats(),r=this.next.children.tail.formats();return e.row===t.row&&e.row===n.row&&e.row===r.row}return!1}static create(e){let t=super.create(e);return t.setAttribute("data-row",e.row),t}formats(){return["row"].reduce((e,t)=>(this.domNode.hasAttribute("data-".concat(t))&&(e[t]=this.domNode.getAttribute("data-".concat(t))),e),{})}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}return l.blotName="table-row",l.tagName="TR",l})(),N=(()=>{class l extends ${}return l.blotName="table-body",l.tagName="TBODY",l})(),a=(()=>{class l extends oe{static create(e){let t=super.create(e);return k.forEach(n=>{t.setAttribute("".concat(n),e[n]||Ne[n])}),t}static formats(e){return k.reduce((t,n)=>(e.hasAttribute("".concat(n))&&(t[n]=e.getAttribute("".concat(n))||void 0),t),{})}format(e,t){k.indexOf(e)>-1?this.domNode.setAttribute("".concat(e),t||Ne[e]):super.format(e,t)}html(){return this.domNode.outerHTML}}return l.blotName="table-col",l.tagName="col",l})(),d=(()=>{class l extends ${}return l.blotName="table-col-group",l.tagName="colgroup",l})(),c=(()=>{class l extends ${static create(){return super.create()}constructor(e,t){super(e,t),this.updateTableWidth()}updateTableWidth(){setTimeout(()=>{let e=this.colGroup();if(!e)return;let t=e.children.reduce((n,r)=>(n=n+parseInt(r.formats()[a.blotName].width,10),n),0);this.domNode.style.width="".concat(t,"px")},0)}cells(e){return this.rows().map(t=>t.children.at(e))}colGroup(){return this.children.head}deleteColumns(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,[r]=this.descendants(N);if(r==null||r.children.head==null)return;let i=this.descendants(z),s=[],f=[];if(i.forEach(h=>{let p=S(h.domNode.getBoundingClientRect(),n);p.x+T>e.x&&p.x1-T<e.x1?s.push(h):p.x<e.x+T&&p.x1>e.x1-T&&f.push(h)}),s.length===i.length)return this.tableDestroy(),!0;t.forEach(h=>{this.colGroup().children.at(t[0]).remove()}),s.forEach(h=>{h.remove()}),f.forEach(h=>{let p=parseInt(h.formats().colspan,10),b=parseInt(h.formats().width,10);h.format("colspan",p-t.length)}),this.updateTableWidth()}deleteRow(e,t){let[n]=this.descendants(N);if(n==null||n.children.head==null)return;let r=this.descendants(z),i=this.descendants(M),s=[],f=[],h=[],p=i.filter(m=>{let w=S(m.domNode.getBoundingClientRect(),t);return w.y>e.y-T&&w.y1<e.y1+T});if(r.forEach(m=>{let w=S(m.domNode.getBoundingClientRect(),t);w.y>e.y-T&&w.y1<e.y1+T?s.push(m):w.y<e.y+T&&w.y1>e.y1-T&&(f.push(m),Math.abs(w.y-e.y)<T&&h.push(m))}),s.length===r.length){this.tableDestroy();return}let b=this.rows().reduce((m,w)=>{let v=S(w.domNode.getBoundingClientRect(),t);return v.y>e.y-T&&v.y1<e.y1+T&&(m+=1),m},0);h.forEach(m=>{let w=S(m.domNode.getBoundingClientRect(),t),v=m.parent.next,E=v.children.reduce((L,H)=>{let te=S(H.domNode.getBoundingClientRect(),t);return Math.abs(w.x1-te.x)<T&&(L=H),L},null);v.insertBefore(m,E),m.format("row",v.formats().row)}),s.forEach(m=>{m.remove()}),f.forEach(m=>{let w=parseInt(m.formats().rowspan,10);m.format("rowspan",w-b)}),p.forEach(m=>m.remove())}tableDestroy(){let e=g.a.find(this.scroll.domNode.parentNode),t=e.getModule("better-table");this.remove(),t.hideTableTools(),e.update(g.a.sources.USER)}insertCell(e,t){let n=u(),r=e.formats().row,i=this.scroll.create(z.blotName,Object.assign({},fe,{row:r})),s=this.scroll.create(P.blotName,{row:r,cell:n});i.appendChild(s),t?e.insertBefore(i,t):e.appendChild(i)}insertColumn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3?arguments[3]:void 0,[i]=this.descendants(N),[s]=this.descendants(d),f=this.descendants(a),h=[],p=[],b=[];if(i==null||i.children.head==null)return;this.descendants(z).forEach(C=>{let E=S(C.domNode.getBoundingClientRect(),r);n?Math.abs(E.x1-e.x1)<T?h.push(C):e.x1-E.x>T&&e.x1-E.x1<-T&&p.push(C):Math.abs(E.x-e.x)<T?h.push(C):e.x-E.x>T&&e.x-E.x1<-T&&p.push(C)}),h.forEach(C=>{let E=n?C.next:C,L=u(),H=C.parent,te=H.formats().row,We=C.formats(),Ue=this.scroll.create(z.blotName,Object.assign({},fe,{row:te,rowspan:We.rowspan})),tt=this.scroll.create(P.blotName,{row:te,cell:L,rowspan:We.rowspan});Ue.appendChild(tt),E?H.insertBefore(Ue,E):H.appendChild(Ue),b.push(Ue)});let w=this.scroll.create(a.blotName,!0),v=n?f[t].next:f[t];return v?s.insertBefore(w,v):s.appendChild(w),p.forEach(C=>{let E=C.formats().colspan;C.format("colspan",parseInt(E,10)+1),b.push(C)}),b.sort((C,E)=>{let L=C.domNode.getBoundingClientRect().y,H=E.domNode.getBoundingClientRect().y;return L-H}),this.updateTableWidth(),b}insertRow(e,t,n){let[r]=this.descendants(N);if(r==null||r.children.head==null)return;let i=this.descendants(z),s=y(),f=this.scroll.create(M.blotName,{row:s}),h=[],p=[],b=[];i.forEach(v=>{let C=S(v.domNode.getBoundingClientRect(),n);t?Math.abs(C.y1-e.y1)<T?h.push(v):e.y1-C.y>T&&e.y1-C.y1<-T&&p.push(v):Math.abs(C.y-e.y)<T?h.push(v):e.y-C.y>T&&e.y-C.y1<-T&&p.push(v)});let m=(v,C)=>{let E=v.domNode.getBoundingClientRect().x,L=C.domNode.getBoundingClientRect().x;return E-L};h.sort(m),h.forEach(v=>{let C=u(),E=v.formats(),L=this.scroll.create(z.blotName,Object.assign({},fe,{row:s,colspan:E.colspan})),H=this.scroll.create(P.blotName,{row:s,cell:C,colspan:E.colspan}),te=this.scroll.create(ue.blotName);H.appendChild(te),L.appendChild(H),f.appendChild(L),b.push(L)}),p.forEach(v=>{let C=parseInt(v.formats().rowspan,10);v.format("rowspan",C+1),b.push(v)});let w=this.rows().find(v=>{let C=S(v.domNode.getBoundingClientRect(),n);return t?Math.abs(C.y-e.y-e.height)<T:Math.abs(C.y-e.y)<T});return r.insertBefore(f,w),b.sort(m),b}mergeCells(e,t,n,r,i){let s=t.reduce((p,b,m)=>(m!==0?(p&&b.moveChildren(p),b.remove()):(b.format("colspan",r),b.format("rowspan",n),p=b),p),null),f=s.domNode.getAttribute("data-row"),h=s.children.head.domNode.getAttribute("data-cell");return s.children.forEach(p=>{p.format("cell",h),p.format("row",f),p.format("colspan",r),p.format("rowspan",n)}),s}unmergeCells(e,t){let n={},r=1,i=1;e.forEach(s=>{if(n=s.formats(),r=n.rowspan,i=n.colspan,i>1){let f=s.next,h=s.row();s.format("colspan",1);for(let p=i;p>1;p--)this.insertCell(h,f)}if(r>1){let f=r,h=s.row().next;for(;f>1;){let p=h.children.reduce((b,m)=>{let w=S(s.domNode.getBoundingClientRect(),t),v=S(m.domNode.getBoundingClientRect(),t);return Math.abs(w.x1-v.x)<T&&(b=m),b},null);for(let b=i;b>0;b--)this.insertCell(h,p);f-=1,h=h.next}s.format("rowspan",1)}})}rows(){let e=this.children.tail;return e==null?[]:e.children.map(t=>t)}}return l.blotName="table-container",l.className="quill-better-table",l.tagName="TABLE",l})(),x=(()=>{class l extends ${constructor(e,t){super(e,t);let n=g.a.find(e.domNode.parentNode);t.addEventListener("scroll",r=>{let i=n.getModule("better-table");i.columnTool&&(i.columnTool.domNode.scrollLeft=r.target.scrollLeft),i.tableSelection&&i.tableSelection.selectedTds.length>0&&i.tableSelection.repositionHelpLines()},!1)}table(){return this.children.head}}return l.blotName="table-view",l.className="quill-better-table-wrapper",l.tagName="DIV",l.allowedChildren=[c],l})();c.requiredContainer=x,c.allowedChildren=[N,d],N.requiredContainer=c,N.allowedChildren=[M],M.requiredContainer=N,M.allowedChildren=[z],z.requiredContainer=M,z.allowedChildren=[P,ve],P.requiredContainer=z,d.allowedChildren=[a],d.requiredContainer=c,a.requiredContainer=d;function y(){let l=Math.random().toString(36).slice(2,6);return"row-".concat(l)}function u(){let l=Math.random().toString(36).slice(2,6);return"cell-".concat(l)}let _="#0589f3",F=["left","right","top","bottom"],O=2;class re{constructor(o,e,t){if(!o)return null;this.table=o,this.quill=e,this.options=t,this.boundary={},this.selectedTds=[],this.dragging=!1,this.selectingHandler=this.mouseDownHandler.bind(this),this.clearSelectionHandler=this.clearSelection.bind(this),this.helpLinesInitial(),this.quill.root.addEventListener("mousedown",this.selectingHandler,!1),this.quill.on("text-change",this.clearSelectionHandler)}helpLinesInitial(){let o=this.quill.root.parentNode;F.forEach(e=>{this[e]=document.createElement("div"),this[e].classList.add("qlbt-selection-line"),this[e].classList.add("qlbt-selection-line-"+e),U(this[e],{position:"absolute",display:"none","background-color":_}),o.appendChild(this[e])})}mouseDownHandler(o){if(o.button!==0||!o.target.closest(".quill-better-table"))return;this.quill.root.addEventListener("mousemove",r,!1),this.quill.root.addEventListener("mouseup",i,!1);let e=this,t=o.target.closest("td[data-row]"),n=S(t.getBoundingClientRect(),this.quill.root.parentNode);this.dragging=!0,this.boundary=G(n,n),this.correctBoundary(),this.selectedTds=this.computeSelectedTds(),this.repositionHelpLines();function r(s){if(s.button!==0||!s.target.closest(".quill-better-table"))return;let f=s.target.closest("td[data-row]"),h=S(f.getBoundingClientRect(),e.quill.root.parentNode);e.boundary=G(n,h),e.correctBoundary(),e.selectedTds=e.computeSelectedTds(),e.repositionHelpLines(),t!==f&&e.quill.blur()}function i(s){e.quill.root.removeEventListener("mousemove",r,!1),e.quill.root.removeEventListener("mouseup",i,!1),e.dragging=!1}}correctBoundary(){g.a.find(this.table).descendants(z).forEach(t=>{let{x:n,y:r,width:i,height:s}=S(t.domNode.getBoundingClientRect(),this.quill.root.parentNode);(n+O>=this.boundary.x&&n+O<=this.boundary.x1||n-O+i>=this.boundary.x&&n-O+i<=this.boundary.x1)&&(r+O>=this.boundary.y&&r+O<=this.boundary.y1||r-O+s>=this.boundary.y&&r-O+s<=this.boundary.y1)&&(this.boundary=G(this.boundary,{x:n,y:r,width:i,height:s}))})}computeSelectedTds(){return g.a.find(this.table).descendants(z).reduce((t,n)=>{let{x:r,y:i,width:s,height:f}=S(n.domNode.getBoundingClientRect(),this.quill.root.parentNode);return r+O>=this.boundary.x&&r-O+s<=this.boundary.x1&&i+O>=this.boundary.y&&i-O+f<=this.boundary.y1&&t.push(n),t},[])}repositionHelpLines(){let o=this.table.parentNode.scrollLeft;U(this.left,{display:"block",left:"".concat(this.boundary.x-o-1,"px"),top:"".concat(this.boundary.y,"px"),height:"".concat(this.boundary.height+1,"px"),width:"1px"}),U(this.right,{display:"block",left:"".concat(this.boundary.x1-o,"px"),top:"".concat(this.boundary.y,"px"),height:"".concat(this.boundary.height+1,"px"),width:"1px"}),U(this.top,{display:"block",left:"".concat(this.boundary.x-1-o,"px"),top:"".concat(this.boundary.y,"px"),width:"".concat(this.boundary.width+1,"px"),height:"1px"}),U(this.bottom,{display:"block",left:"".concat(this.boundary.x-1-o,"px"),top:"".concat(this.boundary.y1+1,"px"),width:"".concat(this.boundary.width+1,"px"),height:"1px"})}refreshHelpLinesPosition(){let o=S(this.selectedTds[0].domNode.getBoundingClientRect(),this.quill.root.parentNode),e=S(this.selectedTds[this.selectedTds.length-1].domNode.getBoundingClientRect(),this.quill.root.parentNode);this.boundary=G(o,e),this.repositionHelpLines()}destroy(){return F.forEach(o=>{this[o].remove(),this[o]=null}),this.quill.root.removeEventListener("mousedown",this.selectingHandler,!1),this.quill.off("text-change",this.clearSelectionHandler),null}setSelection(o,e){this.boundary=G(S(o,this.quill.root.parentNode),S(e,this.quill.root.parentNode)),this.correctBoundary(),this.selectedTds=this.computeSelectedTds(),this.repositionHelpLines()}clearSelection(){this.boundary={},this.selectedTds=[],F.forEach(o=>{this[o]&&U(this[o],{display:"none"})})}}function G(l,o){let e=Math.min(l.x,o.x,l.x+l.width-1,o.x+o.width-1),t=Math.max(l.x,o.x,l.x+l.width-1,o.x+o.width-1),n=Math.min(l.y,o.y,l.y+l.height-1,o.y+o.height-1),r=Math.max(l.y,o.y,l.y+l.height-1,o.y+o.height-1),i=t-e,s=r-n;return{x:e,x1:t,y:n,y1:r,width:i,height:s}}var qe=q(1),pe=q.n(qe),B=q(2),ce=q.n(B),Me=q(3),Oe=q.n(Me),be=q(4),Te=q.n(be),ie=q(5),He=q.n(ie),Be=q(6),Re=q.n(Be),Ae=q(7),ge=q.n(Ae),Q=q(8),W=q.n(Q),me=q(9),Se=q.n(me);let R=150,Y=200,D=5,se=["white","red","yellow","blue"],Ie="Background Colors",J={insertColumnRight:{text:"Insert column right",iconSrc:pe.a,handler(){let l=g.a.find(this.table),o=xe(this.columnToolCells,this.boundary,(t,n)=>Math.abs(t.x+t.width-n.x1)<=D,this.quill.root.parentNode),e=l.insertColumn(this.boundary,o,!0,this.quill.root.parentNode);this.tableColumnTool.updateToolCells(),this.quill.update(g.a.sources.USER),this.quill.setSelection(this.quill.getIndex(e[0]),0,g.a.sources.SILENT),this.tableSelection.setSelection(e[0].domNode.getBoundingClientRect(),e[0].domNode.getBoundingClientRect())}},insertColumnLeft:{text:"Insert column left",iconSrc:ce.a,handler(){let l=g.a.find(this.table),o=xe(this.columnToolCells,this.boundary,(t,n)=>Math.abs(t.x-n.x)<=D,this.quill.root.parentNode),e=l.insertColumn(this.boundary,o,!1,this.quill.root.parentNode);this.tableColumnTool.updateToolCells(),this.quill.update(g.a.sources.USER),this.quill.setSelection(this.quill.getIndex(e[0]),0,g.a.sources.SILENT),this.tableSelection.setSelection(e[0].domNode.getBoundingClientRect(),e[0].domNode.getBoundingClientRect())}},insertRowUp:{text:"Insert row up",iconSrc:Oe.a,handler(){let o=g.a.find(this.table).insertRow(this.boundary,!1,this.quill.root.parentNode);this.quill.update(g.a.sources.USER),this.quill.setSelection(this.quill.getIndex(o[0]),0,g.a.sources.SILENT),this.tableSelection.setSelection(o[0].domNode.getBoundingClientRect(),o[0].domNode.getBoundingClientRect())}},insertRowDown:{text:"Insert row down",iconSrc:Te.a,handler(){let o=g.a.find(this.table).insertRow(this.boundary,!0,this.quill.root.parentNode);this.quill.update(g.a.sources.USER),this.quill.setSelection(this.quill.getIndex(o[0]),0,g.a.sources.SILENT),this.tableSelection.setSelection(o[0].domNode.getBoundingClientRect(),o[0].domNode.getBoundingClientRect())}},mergeCells:{text:"Merge selected cells",iconSrc:He.a,handler(){let l=g.a.find(this.table),o=l.rows().reduce((n,r)=>{let i=S(r.domNode.getBoundingClientRect(),this.quill.root.parentNode);return i.y>this.boundary.y-D&&i.y+i.height<this.boundary.y+this.boundary.height+D&&(n+=1),n},0),e=this.columnToolCells.reduce((n,r)=>{let i=S(r.getBoundingClientRect(),this.quill.root.parentNode);return i.x>this.boundary.x-D&&i.x+i.width<this.boundary.x+this.boundary.width+D&&(n+=1),n},0),t=l.mergeCells(this.boundary,this.selectedTds,o,e,this.quill.root.parentNode);this.quill.update(g.a.sources.USER),this.tableSelection.setSelection(t.domNode.getBoundingClientRect(),t.domNode.getBoundingClientRect())}},unmergeCells:{text:"Unmerge cells",iconSrc:Re.a,handler(){g.a.find(this.table).unmergeCells(this.selectedTds,this.quill.root.parentNode),this.quill.update(g.a.sources.USER),this.tableSelection.clearSelection()}},deleteColumn:{text:"Delete selected columns",iconSrc:ge.a,handler(){let l=g.a.find(this.table),o=j(this.columnToolCells,this.boundary,(t,n)=>t.x+D>n.x&&t.x+t.width-D<n.x1,this.quill.root.parentNode);l.deleteColumns(this.boundary,o,this.quill.root.parentNode)||(this.tableColumnTool.updateToolCells(),this.quill.update(g.a.sources.USER),this.tableSelection.clearSelection())}},deleteRow:{text:"Delete selected rows",iconSrc:W.a,handler(){g.a.find(this.table).deleteRow(this.boundary,this.quill.root.parentNode),this.quill.update(g.a.sources.USER),this.tableSelection.clearSelection()}},deleteTable:{text:"Delete table",iconSrc:Se.a,handler(){let l=this.quill.getModule("better-table"),o=g.a.find(this.table);l.hideTableTools(),o.remove(),this.quill.update(g.a.sources.USER)}}};class we{constructor(o,e,t){let n=e.getModule("better-table");this.tableSelection=n.tableSelection,this.table=o.table,this.quill=e,this.options=t,this.menuItems=Object.assign({},J,t.items),this.tableColumnTool=n.columnTool,this.boundary=this.tableSelection.boundary,this.selectedTds=this.tableSelection.selectedTds,this.destroyHandler=this.destroy.bind(this),this.columnToolCells=this.tableColumnTool.colToolCells(),this.colorSubTitle=t.color&&t.color.text?t.color.text:Ie,this.cellColors=t.color&&t.color.colors?t.color.colors:se,this.menuInitial(o),this.mount(),document.addEventListener("click",this.destroyHandler,!1)}mount(){document.body.appendChild(this.domNode)}destroy(){return this.domNode.remove(),document.removeEventListener("click",this.destroyHandler,!1),null}menuInitial(o){let{table:e,left:t,top:n}=o;this.domNode=document.createElement("div"),this.domNode.classList.add("qlbt-operation-menu"),U(this.domNode,{position:"absolute",left:"".concat(t,"px"),top:"".concat(n,"px"),"min-height":"".concat(R,"px"),width:"".concat(Y,"px")});for(let s in this.menuItems)this.menuItems[s]&&(this.domNode.appendChild(this.menuItemCreator(Object.assign({},J[s],this.menuItems[s]))),["insertRowDown","unmergeCells"].indexOf(s)>-1&&this.domNode.appendChild(r()));this.options.color&&this.options.color!==!1&&(this.domNode.appendChild(r()),this.domNode.appendChild(i(this.colorSubTitle)),this.domNode.appendChild(this.colorsItemCreator(this.cellColors)));function r(){let s=document.createElement("div");return s.classList.add("qlbt-operation-menu-dividing"),s}function i(s){let f=document.createElement("div");return f.classList.add("qlbt-operation-menu-subtitle"),f.innerText=s,f}}colorsItemCreator(o){let e=this,t=document.createElement("div");t.classList.add("qlbt-operation-color-picker"),o.forEach(r=>{let i=n(r);t.appendChild(i)});function n(r){let i=document.createElement("div");return i.classList.add("qlbt-operation-color-picker-item"),i.setAttribute("data-color",r),i.style.backgroundColor=r,i.addEventListener("click",function(){let s=e.tableSelection.selectedTds;s&&s.length>0&&s.forEach(f=>{f.format("cell-bg",r)})},!1),i}return t}menuItemCreator(o){let{text:e,iconSrc:t,handler:n}=o,r=document.createElement("div");r.classList.add("qlbt-operation-menu-item");let i=document.createElement("span");i.classList.add("qlbt-operation-menu-icon"),i.innerHTML=t;let s=document.createElement("span");return s.classList.add("qlbt-operation-menu-text"),s.innerText=e,r.appendChild(i),r.appendChild(s),r.addEventListener("click",n.bind(this),!1),r}}function xe(l,o,e,t){return l.reduce((n,r)=>{let i=S(r.getBoundingClientRect(),t);return e(i,o)&&(n=l.indexOf(r)),n},!1)}function j(l,o,e,t){return l.reduce((n,r)=>{let i=S(r.getBoundingClientRect(),t);return e(i,o)&&n.push(l.indexOf(r)),n},[])}let X=g.a.import("delta");function ze(l,o,e){let t=l.parentNode,n=t.parentNode.tagName==="TABLE"?t.parentNode:t.parentNode.parentNode,r=Array.from(n.querySelectorAll("tr")),i=Array.from(t.querySelectorAll("td")),s=r.indexOf(t)+1,f=i.indexOf(l)+1,h=l.getAttribute("colspan")||!1,p=l.getAttribute("rowspan")||!1,b=l.getAttribute("data-cell-bg")||l.style.backgroundColor;return o.length()===0?(o=new X().insert(`
`,{"table-cell-line":{row:s,cell:f,rowspan:p,colspan:h}}),o):(o=o.reduce((m,w)=>{if(w.insert&&typeof w.insert=="string"){let v=[],C=w.insert,E=0;for(let H=0;H<w.insert.length;H++)C.charAt(H)===`
`&&(H===0||v.push(C.substring(E,H)),v.push(`
`),E=H+1);let L=C.substring(E);L&&v.push(L),v.forEach(H=>{H===`
`?m.insert(`
`,w.attributes):m.insert(H,ae(w.attributes,["table","table-cell-line"]))})}else m.insert(w.insert,w.attributes);return m},new X),o.reduce((m,w)=>(w.insert&&typeof w.insert=="string"&&w.insert.startsWith(`
`)?m.insert(w.insert,Object.assign({},Object.assign({},{row:s},w.attributes.table),{"table-cell-line":{row:s,cell:f,rowspan:p,colspan:h,"cell-bg":b}},ae(w.attributes,["table"]))):w.attributes&&w.attributes.background&&w.attributes.background===ye(b)?m.insert(w.insert,Object.assign({},ae(w.attributes,["table","table-cell-line","background"]))):m.insert(w.insert,Object.assign({},ae(w.attributes,["table","table-cell-line"]))),m),new X))}function $e(l,o,e){let t=l.parentNode,n=t.parentNode.tagName==="TABLE"?t.parentNode:t.parentNode.parentNode,r=Array.from(n.querySelectorAll("tr")),i=Array.from(t.querySelectorAll("th")),s=r.indexOf(t)+1,f=i.indexOf(l)+1,h=l.getAttribute("colspan")||!1,p=l.getAttribute("rowspan")||!1;return o.length()===0?(o=new X().insert(`
`,{"table-cell-line":{row:s,cell:f,rowspan:p,colspan:h}}),o):(o=o.reduce((b,m)=>{if(m.insert&&typeof m.insert=="string"){let w=[],v=m.insert,C=0;for(let L=0;L<m.insert.length;L++)v.charAt(L)===`
`&&(L===0||w.push(v.substring(C,L)),w.push(`
`),C=L+1);let E=v.substring(C);E&&w.push(E),w.indexOf(`
`)<0&&w.push(`
`),w.forEach(L=>{L===`
`?b.insert(`
`,{"table-cell-line":{row:s,cell:f,rowspan:p,colspan:h}}):b.insert(L,m.attributes)})}else b.insert(m.insert,m.attributes);return b},new X),o.reduce((b,m)=>(m.insert&&typeof m.insert=="string"&&m.insert.startsWith(`
`)?b.insert(m.insert,Object.assign({},{"table-cell-line":{row:s,cell:f,rowspan:p,colspan:h}})):b.insert(m.insert,Object.assign({},ae(m.attributes,["table","table-cell-line"]))),b),new X))}function Qe(l,o,e){let t=new X,n=l.querySelector("tr");if(n===null)return t;let i=Array.from(n.querySelectorAll("td")).concat(Array.from(n.querySelectorAll("th"))).reduce((f,h)=>{let p=h.getAttribute("colspan")||1;return f=f+parseInt(p,10),f},0),s=l.querySelectorAll("col").length;if(s===i)return o;{for(let h=0;h<i-s;h++)t.insert(`
`,{"table-col":!0});if(s===0)return t.concat(o);let f=0;return o.reduce((h,p)=>(h.insert(p.insert,p.attributes),p.attributes&&p.attributes["table-col"]&&(f+=p.insert.length,f===s&&(h=h.concat(t))),h),new X)}}let Je=g.a.import("core/module"),Ze=g.a.import("delta");class Pe extends Je{static register(){g.a.register(a,!0),g.a.register(d,!0),g.a.register(P,!0),g.a.register(z,!0),g.a.register(M,!0),g.a.register(N,!0),g.a.register(c,!0),g.a.register(x,!0),g.a.register(x,!0)}constructor(o,e){super(o,e),this.quill.root.addEventListener("click",r=>{let i=Ce(r);if(!i||i.length<=0)return;let s=i.filter(f=>f.tagName&&f.tagName.toUpperCase()==="TABLE"&&f.classList.contains("quill-better-table"))[0];if(s){if(this.table===s)return;this.table&&this.hideTableTools(),this.showTableTools(s,o,e)}else this.table&&this.hideTableTools()},!1),this.quill.root.addEventListener("contextmenu",r=>{if(!this.table)return!0;r.preventDefault();let i=Ce(r);if(!i||i.length<=0)return;let s=i.filter(b=>b.tagName&&b.tagName.toUpperCase()==="TABLE"&&b.classList.contains("quill-better-table"))[0],f=i.filter(b=>b.tagName&&b.tagName.toUpperCase()==="TR"&&b.getAttribute("data-row"))[0],h=i.filter(b=>b.tagName&&b.tagName.toUpperCase()==="TD"&&b.getAttribute("data-row"))[0],p=this.tableSelection.selectedTds.map(b=>b.domNode).includes(h);(this.tableSelection.selectedTds.length<=0||!p)&&this.tableSelection.setSelection(h.getBoundingClientRect(),h.getBoundingClientRect()),this.tableOperationMenu&&(this.tableOperationMenu=this.tableOperationMenu.destroy()),s&&(this.tableOperationMenu=new we({table:s,row:f,cell:h,left:r.pageX,top:r.pageY},o,e.operationMenu))},!1);let t=o.getModule("keyboard");o.keyboard.addBinding({key:"Backspace"},{},function(r,i){if(r.index===0||this.quill.getLength()<=1)return!0;let[s]=this.quill.getLine(r.index);if(i.offset===0){let[f]=this.quill.getLine(r.index-1);if(f!=null&&f.statics.blotName==="table-cell-line"&&s.statics.blotName!=="table-cell-line")return!1}return!0});let n=o.keyboard.bindings.Backspace.pop();o.keyboard.bindings.Backspace.splice(0,1,n),o.clipboard.addMatcher("td",ze),o.clipboard.addMatcher("th",$e),o.clipboard.addMatcher("table",Qe),o.clipboard.matchers=o.clipboard.matchers.filter(r=>r[0]!=="tr")}getTable(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(o==null)return[null,null,null,-1];let[e,t]=this.quill.getLine(o.index);if(e==null||e.statics.blotName!==P.blotName)return[null,null,null,-1];let n=e.tableCell(),r=n.row();return[r.table(),r,n,t]}insertTable(o,e){let t=this.quill.getSelection(!0);if(t==null)return;let n=this.quill.getLeaf(t.index)[0],r=new Ze().retain(t.index);if(Ge(n)){console.warn("Can not insert table into a table cell.");return}r.insert(`
`),r=new Array(e).fill(`
`).reduce((i,s)=>(i.insert(s,{"table-col":!0}),i),r),r=new Array(o).fill(0).reduce(i=>{let s=y();return new Array(e).fill(`
`).reduce((f,h)=>(f.insert(h,{"table-cell-line":{row:s,cell:u()}}),f),i)},r),this.quill.updateContents(r,g.a.sources.USER),this.quill.setSelection(t.index+e+1,g.a.sources.API)}showTableTools(o,e,t){this.table=o,this.columnTool=new ee(o,e,t),this.tableSelection=new re(o,e,t)}hideTableTools(){this.columnTool&&this.columnTool.destroy(),this.tableSelection&&this.tableSelection.destroy(),this.tableOperationMenu&&this.tableOperationMenu.destroy(),this.columnTool=null,this.tableSelection=null,this.tableOperationMenu=null,this.table=null}}Pe.keyboardBindings={"table-cell-line backspace":{key:"Backspace",format:["table-cell-line"],collapsed:!0,offset:0,handler(l,o){let[e,t]=this.quill.getLine(l.index);return!(!e.prev||e.prev.statics.blotName!=="table-cell-line")}},"table-cell-line delete":{key:"Delete",format:["table-cell-line"],collapsed:!0,suffix:/^$/,handler(){}},"table-cell-line enter":{key:"Enter",shiftKey:null,format:["table-cell-line"],handler(l,o){if(this.quill.selection&&this.quill.selection.composing)return;let e=g.a.imports.parchment.Scope;l.length>0&&this.quill.scroll.deleteAt(l.index,l.length);let t=Object.keys(o.format).reduce((n,r)=>(this.quill.scroll.query(r,e.BLOCK)&&!Array.isArray(o.format[r])&&(n[r]=o.format[r]),n),{});this.quill.insertText(l.index,`
`,t["table-cell-line"],g.a.sources.USER),this.quill.setSelection(l.index+1,g.a.sources.SILENT),this.quill.focus(),Object.keys(o.format).forEach(n=>{t[n]==null&&(Array.isArray(o.format[n])||n!=="link"&&this.quill.format(n,o.format[n],g.a.sources.USER))})}},"table-cell-line up":Fe(!0),"table-cell-line down":Fe(!1),"down-to-table":{key:"ArrowDown",collapsed:!0,handler(l,o){let e=o.line.next;if(e&&e.statics.blotName==="table-view"){let n=e.table().rows()[0].children.head.children.head;return this.quill.setSelection(n.offset(this.quill.scroll),0,g.a.sources.USER),!1}return!0}},"up-to-table":{key:"ArrowUp",collapsed:!0,handler(l,o){let e=o.line.prev;if(e&&e.statics.blotName==="table-view"){let t=e.table().rows(),r=t[t.length-1].children.head.children.head;return this.quill.setSelection(r.offset(this.quill.scroll),0,g.a.sources.USER),!1}return!0}}};function Fe(l){return{key:l?"ArrowUp":"ArrowDown",collapsed:!0,format:["table-cell-line"],handler(o,e){let t=l?"prev":"next";if(e.line[t]!=null)return!0;let r=e.line.parent,i=r.parent[t];if(i!=null&&i.statics.blotName==="table-row"){let s=i.children.head,f=parseInt(s.formats().colspan,10),h=r,p=parseInt(h.formats().colspan,10);for(;h.prev!=null;)h=h.prev,p+=parseInt(h.formats().colspan,10);for(;s.next!=null&&f<p;)s=s.next,f+=parseInt(s.formats().colspan,10);let b=s.offset(this.quill.scroll);this.quill.setSelection(b,0,g.a.sources.USER)}else{let s=r.table().parent[t];s!=null&&(l?this.quill.setSelection(s.offset(this.quill.scroll)+s.length()-1,0,g.a.sources.USER):this.quill.setSelection(s.offset(this.quill.scroll),0,g.a.sources.USER))}return!1}}}function et(l){return l.statics.blotName===z.blotName}function Ge(l){return l&&l.parent?et(l.parent)?!0:Ge(l.parent):!1}var lt=I.default=Pe},,function(A,I,q){A.exports=q(10)}]).default})});export default ot();
