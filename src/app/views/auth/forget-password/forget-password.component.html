<div class="" style="height: 100vh;">
  <div class="d-flex flex-column justify-content-center align-items-center" style="height: 100vh;">
    <div class="col-xl-5 col-lg-5 col-12 mx-auto col-md-5">
      <div class="card card-pages rounded-2xl! shadow-lg transparent">
        <div class="card-body p-5">
          <div class="text-center m-t-0 m-b-15">
            <span class="logo logo-admin">
              <img src="assets/img/logo-mtfp.png" class="img-fluid mx-auto" alt="" style="height: 60px;">
            </span>
          </div>

          <div *ngIf="!mailSent">
            <div class="text-center">
              <h1 class="h5 text-primary-dark mb-2 ">Mot de passe oublié ?</h1>
              <p class="text-gray-600 font-light text-sm mb-4">
                Pas de souci. Renseignez votre adresse email et nous vous enverrons un lien pour le réinitialiser.
              </p>
            </div>
            
            <form class="flex flex-col gap-4 justify-center items-center w-full" #fpForm="ngForm" (ngSubmit)="sendMail(fpForm.value)">
              <div class="flex w-full">
                <input type="email"
                  class="outline-none w-full text-sm px-3 py-2 bg-gray-50 rounded-lg border border-gray-300"
                  ngModel required name="email" placeholder="Entrez votre adresse Email">
              </div>
              
              <div class="flex w-full">
                <button type="submit" [disabled]="fpForm.invalid || loading"
                  [ngClass]="{'cursor-not-allowed bg-gray-500! text-gray-300!':fpForm.invalid || loading, 'bg-primary! text-white!':!fpForm.invalid && !loading}"
                  class="font-light text-base px-3 py-2 w-full rounded-lg! flex flex-row justify-center items-center gap-3">
                  <span *ngIf="!loading">Envoyer le lien de récupération</span>
                  <svg *ngIf="loading" xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24">
                    <path fill="none" stroke="currentColor" stroke-dasharray="16" stroke-dashoffset="16"
                      stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3c4.97 0 9 4.03 9 9">
                      <animate fill="freeze" attributeName="stroke-dashoffset" dur="0.2s" values="16;0" />
                      <animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate"
                        values="0 12 12;360 12 12" />
                    </path>
                  </svg>
                  <span *ngIf="loading">Envoi en cours...</span>
                </button>
              </div>

              <div class="text-center mt-4 w-full">
                <a [routerLink]="['/auth/login']" class="text-sm text-primary-dark hover:underline font-light">
                  Retour à la page de connexion
                </a>
              </div>
            </form>
          </div>

          <div *ngIf="mailSent" class="text-center">
             <svg class="mx-auto text-green-500 size-16 mb-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m-2 15l-5-5l1.41-1.41L10 14.17l7.59-7.59L19 8z"></path></svg>
             <h1 class="h5 text-primary-dark mb-2 ">Email envoyé !</h1>
             <p class="text-gray-600 font-light text-sm mb-4">
              Un mail de récupération de votre mot de passe vous a été envoyé. Veuillez consulter votre boîte mail (y compris les spams).
             </p>
             <div class="mt-4 w-full">
               <a [routerLink]="['/auth/login']" class="text-sm text-primary-dark hover:underline font-light">
                 Retour à la page de connexion
               </a>
             </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>