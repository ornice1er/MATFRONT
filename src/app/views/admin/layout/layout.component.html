<mat-toolbar color="">
  <button mat-icon-button (click)="toggleMenu()">
    <mat-icon>menu</mat-icon>
  </button>
  <span style="color:#42358C">MATACCUEIL | {{title}}</span>
  <button class="btn btn-sm btn-danger" (click)="logout()">Déconnexion</button>
</mat-toolbar>

<mat-sidenav-container class="">

  <mat-sidenav #sidenav mode="side" [(opened)]="menuOpen" style="background-color:#42358C;">
      <ng-container *ngIf="role == 'Super Admin'">
    
        <mat-nav-list>
                  <a mat-list-item routerLink="/admin/dashboard" routerLinkActive="active"><span>Accueil</span></a>

              <mat-expansion-panel class=" shadow-none" >

            <mat-expansion-panel-header>
              <mat-panel-title>
                Gestion des utilisateurs
              </mat-panel-title>
            </mat-expansion-panel-header>
            <mat-nav-list>
              <a  mat-list-item routerLinkActive="active" routerLink="/admin/users"><span class="">Comptes utilisateurs</span></a>
              <a  mat-list-item routerLinkActive="active" routerLink="/admin/roles"><span class="">Rôles</span></a>
              <a  mat-list-item routerLinkActive="active" routerLink="/admin/permissions"><span class="">Permissions</span></a>
              <a  mat-list-item routerLinkActive="active" routerLink="/admin/profils"><span class="">Rôles & Permissions</span></a>

            </mat-nav-list>
          </mat-expansion-panel>

        </mat-nav-list>

      </ng-container>
    <mat-nav-list>
      <ng-container *ngFor="let item of menuItems">
        <!-- Liens simples -->
        <a *ngIf="!item.children && canShowItem(item)" mat-list-item [routerLink]="item.route" routerLinkActive="active">
          <span class="text-white">{{ item.label }}</span>
        </a>
        <!-- Panneaux d'expansion -->
        <mat-expansion-panel *ngIf="item.children && canShowItemBloc(item)" class="shadow-none rounded-0">
          <mat-expansion-panel-header>
            <mat-panel-title>{{ item.label }}</mat-panel-title>
          </mat-expansion-panel-header>
          <mat-nav-list>
             <ng-container *ngFor="let child of item.children">
              <a *ngIf="canShowItem(child)" mat-list-item [routerLink]="child.route" routerLinkActive="active">
                <span class="text-white">{{ child.label }}</span>
              </a>
            </ng-container>
          </mat-nav-list>
        </mat-expansion-panel>
      </ng-container>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content class="p-3">
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>